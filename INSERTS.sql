--------------------------------------------------------
--  File created - Wednesday-April-02-2025   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table BONIFICACIONES
--------------------------------------------------------

  CREATE TABLE "SAN"."BONIFICACIONES" 
   (	"EMP_NOMBRE" VARCHAR2(10 BYTE), 
	"EMP_CARGO" VARCHAR2(10 BYTE), 
	"EMP_SALARIO" NUMBER, 
	"EMP_COMISION" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CLIENTES
--------------------------------------------------------

  CREATE TABLE "SAN"."CLIENTES" 
   (	"CLI_ID" NUMBER, 
	"CLI_NOMBRE" VARCHAR2(45 BYTE), 
	"CLI_DIRECCION" VARCHAR2(40 BYTE), 
	"CLI_CIUDAD" VARCHAR2(30 BYTE), 
	"CLI_DEPARTAMENTO" VARCHAR2(20 BYTE), 
	"CLI_TELEFONO" VARCHAR2(11 BYTE), 
	"CLI_CREDITOLIMITE" NUMBER(11,2), 
	"CLI_OBSERVACIONES" VARCHAR2(50 BYTE), 
	"EMP_ID" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table DEPARTAMENTOS
--------------------------------------------------------

  CREATE TABLE "SAN"."DEPARTAMENTOS" 
   (	"DEP_ID" NUMBER, 
	"DEP_NOMBRE" VARCHAR2(15 BYTE), 
	"DEP_LOCALIZACION" VARCHAR2(15 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table EMPLEADOS
--------------------------------------------------------

  CREATE TABLE "SAN"."EMPLEADOS" 
   (	"EMP_ID" NUMBER, 
	"DEP_ID" NUMBER, 
	"EMP_NOMBRE" VARCHAR2(10 BYTE), 
	"EMP_CARGO" VARCHAR2(10 BYTE), 
	"EMP_FECHACONTRATO" DATE, 
	"EMP_SALARIO" NUMBER(11,2), 
	"EMP_COMISION" NUMBER(11,2)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table GRADOSDESALARIO
--------------------------------------------------------

  CREATE TABLE "SAN"."GRADOSDESALARIO" 
   (	"GRA_ID" NUMBER, 
	"GRA_LIMITEINFERIOR" NUMBER, 
	"GRA_LIMITESUPERIOR" NUMBER
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ORDENES
--------------------------------------------------------

  CREATE TABLE "SAN"."ORDENES" 
   (	"ORD_ID" NUMBER, 
	"CLI_ID" NUMBER, 
	"ORD_FECHA" DATE, 
	"ORD_PLANCOMISION" VARCHAR2(10 BYTE), 
	"ORD_FECHAENTREGA" DATE, 
	"ORD_TOTAL" NUMBER(11,2)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PRECIOS
--------------------------------------------------------

  CREATE TABLE "SAN"."PRECIOS" 
   (	"PRO_ID" NUMBER, 
	"PRE_FECHAINICIO" DATE, 
	"PRE_FECHAFIN" DATE, 
	"PRE_ESTANDAR" NUMBER(11,2), 
	"PRE_MINIMO" NUMBER(11,2)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PRODUCTOS
--------------------------------------------------------

  CREATE TABLE "SAN"."PRODUCTOS" 
   (	"PRO_ID" NUMBER, 
	"PRO_NOMBRE" VARCHAR2(40 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PRODUCTOSPORORDEN
--------------------------------------------------------

  CREATE TABLE "SAN"."PRODUCTOSPORORDEN" 
   (	"PPO_ID" NUMBER, 
	"PRO_ID" NUMBER, 
	"ORD_ID" NUMBER, 
	"PPO_PRECIOACTUAL" NUMBER(11,2), 
	"PPO_CANTIDAD" NUMBER, 
	"PPO_TOTALLINEA" NUMBER(11,2)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
REM INSERTING into SAN.BONIFICACIONES
SET DEFINE OFF;
REM INSERTING into SAN.CLIENTES
SET DEFINE OFF;
REM INSERTING into SAN.DEPARTAMENTOS
SET DEFINE OFF;
REM INSERTING into SAN.EMPLEADOS
SET DEFINE OFF;
REM INSERTING into SAN.GRADOSDESALARIO
SET DEFINE OFF;
REM INSERTING into SAN.ORDENES
SET DEFINE OFF;
REM INSERTING into SAN.PRECIOS
SET DEFINE OFF;
REM INSERTING into SAN.PRODUCTOS
SET DEFINE OFF;
REM INSERTING into SAN.PRODUCTOSPORORDEN
SET DEFINE OFF;
--------------------------------------------------------
--  Constraints for Table DEPARTAMENTOS
--------------------------------------------------------

  ALTER TABLE "SAN"."DEPARTAMENTOS" ADD PRIMARY KEY ("DEP_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table EMPLEADOS
--------------------------------------------------------

  ALTER TABLE "SAN"."EMPLEADOS" ADD PRIMARY KEY ("EMP_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PRODUCTOSPORORDEN
--------------------------------------------------------

  ALTER TABLE "SAN"."PRODUCTOSPORORDEN" ADD PRIMARY KEY ("PPO_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ORDENES
--------------------------------------------------------

  ALTER TABLE "SAN"."ORDENES" ADD PRIMARY KEY ("ORD_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table CLIENTES
--------------------------------------------------------

  ALTER TABLE "SAN"."CLIENTES" ADD CHECK (CLI_OBSERVACIONES IN ('Nuevo', 'Antiguo')) ENABLE;
  ALTER TABLE "SAN"."CLIENTES" ADD PRIMARY KEY ("CLI_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PRODUCTOS
--------------------------------------------------------

  ALTER TABLE "SAN"."PRODUCTOS" ADD PRIMARY KEY ("PRO_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CLIENTES
--------------------------------------------------------

  ALTER TABLE "SAN"."CLIENTES" ADD CONSTRAINT "CLI_EMP_FK" FOREIGN KEY ("EMP_ID")
	  REFERENCES "SAN"."EMPLEADOS" ("EMP_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EMPLEADOS
--------------------------------------------------------

  ALTER TABLE "SAN"."EMPLEADOS" ADD CONSTRAINT "EMP_FK_DEP" FOREIGN KEY ("DEP_ID")
	  REFERENCES "SAN"."DEPARTAMENTOS" ("DEP_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ORDENES
--------------------------------------------------------

  ALTER TABLE "SAN"."ORDENES" ADD CONSTRAINT "ORD_CLI_FK" FOREIGN KEY ("CLI_ID")
	  REFERENCES "SAN"."CLIENTES" ("CLI_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRECIOS
--------------------------------------------------------

  ALTER TABLE "SAN"."PRECIOS" ADD CONSTRAINT "PRE_PRO_FK" FOREIGN KEY ("PRO_ID")
	  REFERENCES "SAN"."PRODUCTOS" ("PRO_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table PRODUCTOSPORORDEN
--------------------------------------------------------

  ALTER TABLE "SAN"."PRODUCTOSPORORDEN" ADD CONSTRAINT "PPO_PRO_FK" FOREIGN KEY ("PRO_ID")
	  REFERENCES "SAN"."PRODUCTOS" ("PRO_ID") ENABLE;
  ALTER TABLE "SAN"."PRODUCTOSPORORDEN" ADD CONSTRAINT "PPO_ORD_FK" FOREIGN KEY ("ORD_ID")
	  REFERENCES "SAN"."ORDENES" ("ORD_ID") ENABLE;
      

    ALTER TABLE EMPLEADOS ADD CONSTRAINT EMP_JEFE_FK FOREIGN KEY(EMP_ID) REFERENCES EMPLEADOS(EMP_ID);
    ALTER TABLE EMPLEADOS ADD EMP_JEFE VARCHAR2(40);
    ALTER TABLE EMPLEADOS DROP CONSTRAINT EMP_ID_FK;
    ALTER TABLE EMPLEADOS MODIFY EMP_JEFE NUMBER;
    
    SELECT * FROM EMPLEADOS;
    SELECT * FROM DEPARTAMENTOS;
    
    //DEPARTAMENTOS
    INSERT INTO DEPARTAMENTOS VALUES(10, 'CONTABILIDAD', 'MEDELLIN');
    INSERT INTO DEPARTAMENTOS VALUES(20, 'INVESTIGACION', 'CALI');
    INSERT INTO DEPARTAMENTOS VALUES(30, 'VENTAS', 'BOGOTA');
    INSERT INTO DEPARTAMENTOS VALUES(40, 'OPERACIONES', 'BUCARAMANGA');
    
    //EMPLEADOS
    INSERT INTO EMPLEADOS VALUES(1000, 10, 'SANTIAGO', 'PRESIDENTE', TO_DATE('28-FEB-2004','DD-MM-YYYY'), 7000000,10000, NULL);
    INSERT INTO EMPLEADOS VALUES(1100, 10, 'JUAN', 'GERENTE', TO_DATE('28-MAR-2025','DD-MM-YYYY'), 7000000,10000, 1000);
    INSERT INTO EMPLEADOS VALUES(1200, 30, 'ALEX', 'VENDEDOR', TO_DATE('08-FEB-2023','DD-MM-YYYY'), 3000000,10000, 1100);
    INSERT INTO EMPLEADOS VALUES(1300, 30, 'MARTA', 'VENDEDOR', TO_DATE('18-FEB-2024','DD-MM-YYYY'), 2000000,10000, 1100);
    
    SELECT * FROM CLIENTES;
    
    //CLIENTES
    INSERT INTO CLIENTES VALUES(1, 'DAVID', 'CALLE 5 56-2', 'POPAYAN', 'CAUCA', '3048883291', 400000, 'Nuevo', 1200);
    INSERT INTO CLIENTES VALUES(10, 'ALEJANDRA', 'CALLE 7 65-5', 'BOGOTA', 'CUNDINAMARCA', '300567432', 10000000, 'Antiguo', 1300);
    INSERT INTO CLIENTES VALUES(50, 'CEDRIC', 'CALLE 5 41-2', 'CALI', 'VALLE DEL CAUCA', '301678493', 200000, 'Nuevo', 1200);
    
    SELECT * FROM ORDENES;
    
    //ORDENES
    INSERT INTO ORDENES VALUES(240, 1, TO_DATE('02-04-2025', 'DD-MM-YYYY'), 240000, TO_DATE('22-04-2025', 'DD-MM-YYYY'), 450000);
    INSERT INTO ORDENES VALUES(250, 10, TO_DATE('18-03-2025', 'DD-MM-YYYY'), 40000, TO_DATE('09-05-2025', 'DD-MM-YYYY'), 235000);
    INSERT INTO ORDENES VALUES(310, 50, TO_DATE('01-04-2025', 'DD-MM-YYYY'), 600000, TO_DATE('28-05-2025', 'DD-MM-YYYY'), 1050000);
    
    SELECT * FROM PRODUCTOS;
    
    //PRODUCTOS
    INSERT INTO PRODUCTOS VALUES(20, 'AUDIFONOS');
    INSERT INTO PRODUCTOS VALUES(50, 'CELULAR');
    INSERT INTO PRODUCTOS VALUES(70, 'PARLANTE');
    
    SELECT * FROM PRECIOS;
    
    //PRECIOS
    INSERT INTO PRECIOS VALUES(20, TO_DATE('02-08-2023', 'DD-MM-YYYY'), TO_DATE('29-12-2027', 'DD-MM-YYYY'), 25000, 20000);
    INSERT INTO PRECIOS VALUES(50, TO_DATE('26-05-2023', 'DD-MM-YYYY'), TO_DATE('29-12-2027', 'DD-MM-YYYY'), 500000, 450000);
    INSERT INTO PRECIOS VALUES(70, TO_DATE('28-02-2022', 'DD-MM-YYYY'), TO_DATE('29-12-2026', 'DD-MM-YYYY'), 110000, 100000);
    
    SELECT * FROM PRODUCTOSPORORDEN;
    
    //PRODUCTOSPORORDEN
    INSERT INTO PRODUCTOSPORORDEN VALUES(5, 20, 240, 30000, 1, 20);
    INSERT INTO PRODUCTOSPORORDEN VALUES(15, 50, 250, 1200000, 2, 12);
    INSERT INTO PRODUCTOSPORORDEN VALUES(55, 70, 310, 650000, 5, 1);